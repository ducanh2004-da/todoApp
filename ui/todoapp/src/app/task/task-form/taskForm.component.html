<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
    <!-- Title -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Title*</label>
      <input
        type="text"
        formControlName="TaskTitle"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <div
        *ngIf="form.get('TaskTitle')?.touched && form.get('TaskTitle')?.invalid"
        class="text-red-600 text-sm mt-1"
      >
        Title is required.
      </div>
    </div>

    <!-- Priority -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Priority*</label>
      <select
        formControlName="Priority"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-primary"
      >
        <option>High</option>
        <option>Medium</option>
        <option>Low</option>
      </select>
      <div
        *ngIf="form.get('Priority')?.touched && form.get('Priority')?.invalid"
        class="text-red-600 text-sm mt-1"
      >
        Priority is required.
      </div>
    </div>

    <!-- Start Day -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Start Day*</label>
      <input
        type="date"
        formControlName="StartDay"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <div
        *ngIf="form.get('StartDay')?.touched && form.get('StartDay')?.invalid"
        class="text-red-600 text-sm mt-1"
      >
        StartDay is required.
      </div>
    </div>

    <!-- End Day -->
    <div>
      <label class="block text-sm font-medium text-gray-700">End Day*</label>
      <input
        type="date"
        formControlName="EndDay"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
      />
      <div
        *ngIf="form.get('EndDay')?.touched && form.get('EndDay')?.invalid"
        class="text-red-600 text-sm mt-1"
      >
        EndDay is required.
      </div>
    </div>

    <!-- Tag -->
    <div>
      <label class="block text-sm font-medium text-gray-700">Tag</label>
      <select
        formControlName="TagId"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-primary"
      >
        <option *ngFor="let tag of tags" [value]="tag.TagId">
          {{ tag.TagName }}
        </option>
      </select>
    </div>

    <!-- Description -->
    <div class="md:col-span-2">
      <label class="block text-sm font-medium text-gray-700">Description</label>
      <textarea
        rows="2"
        formControlName="Description"
        class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
      ></textarea>
    </div>
  </div>

  <div class="flex justify-end space-x-2 pt-4 border-t border-gray-200">
    <button
      type="submit"
      [ngClass]="
        modalTitle==='Add Task'
          ? 'bg-green-500 hover:bg-green-600'
          : 'bg-yellow-500 hover:bg-yellow-600'
      "
      class="inline-flex items-center px-4 py-2 text-white rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
    >
      <i
        class="bi mr-2"
        [ngClass]="
          modalTitle==='Add Task'
            ? 'bi-check-circle'
            : 'bi-pencil-square'
        "
      ></i>
      {{ modalTitle }}
    </button>
    <button
      type="button"
      (click)="form.reset()"
      data-bs-dismiss="modal"
      class="inline-flex items-center px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300"
    >
      Close
    </button>
  </div>
</form>
